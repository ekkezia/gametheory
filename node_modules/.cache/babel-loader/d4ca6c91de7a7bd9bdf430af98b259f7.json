{"ast":null,"code":"var _jsxFileName = \"/Users/ek/gametheory/src/components/form.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useContext } from 'react';\nimport { useState, useEffect, useRef } from \"react\";\nimport Draggable from \"react-draggable\";\nimport { collection, addDoc, setDoc, getDocs, doc, onSnapshot } from \"firebase/firestore\";\nimport { makeStyles, withTheme } from '@material-ui/core';\nimport db from './utils/firebase.config';\nimport { pics } from './Pics';\nimport { timestamp, serverTimestamp } from './utils/serverTimestamp';\nimport { allSubmissions } from './utils/allSubmission';\nimport SubmitContext from './utils/submitContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  container: {\n    color: 'white'\n  },\n  name: {\n    borderRadius: '85px',\n    padding: '4%'\n  },\n  submitBtn: {\n    margin: '16px',\n    padding: '5%',\n    borderRadius: '20px',\n    background: 'black',\n    color: 'white',\n    opacity: 0.2,\n    transition: 'all 500ms ease'\n  },\n  enableBtnClass: {\n    opacity: 1,\n    transition: 'all 500ms ease'\n  },\n  p: {\n    color: 'white'\n  }\n}));\nconst imgArray = [];\n\nfor (let i = 0; i < 10; i++) {\n  imgArray.push('./assets/' + i + '.jpg');\n}\n\nfunction Form() {\n  _s();\n\n  const classes = useStyles();\n  const clickMenu = useRef(null);\n  const form = useRef(null);\n  const {\n    hadSubmitted\n  } = useContext(SubmitContext);\n  const [submitted, setSubmitted] = useState(false);\n  const [enableBtnClass, setEnableBtnClass] = useState(null);\n  const [toggleBtnEnabler, setToggleBtnEnabler] = useState(true);\n  const [name, setName] = useState(\"\");\n  const [pic, setPic] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  let [currentData, setCurrentData] = useState({\n    name: \"\",\n    pic: \"\"\n  });\n  let [regName, setRegName] = useState(\"\");\n  let [regIg, setRegIg] = useState(\"\");\n  let [regPic, setRegPic] = useState(0);\n  let [subs, setSubs] = useState([]);\n  let [ordered, setOrdered] = useState([]);\n  let allSubs = [];\n  let orderedPics = [];\n  const picsOptions = ['https://imgur.com/ONukpTh.png', 'https://imgur.com/rY8d0Ye.png', 'https://imgur.com/xXAYEcH.png', 'https://imgur.com/aWS9TAH.png'];\n  useEffect(() => {\n    // CURRENT DATA\n    const unsub = onSnapshot(doc(db, \"Response\", \"rGKZUj2fF5JpWiYZmCDJ\"), doc => {\n      console.log(\"Current data: \", doc.data());\n      setCurrentData = doc.data();\n      console.log('name', currentData.name);\n    });\n  });\n  useEffect(() => {\n    console.log('submit change', submitted);\n  }, [submitted]);\n\n  function answerPic(e) {\n    if (e.target.id == \"answer1\") {\n      setPic(\"1\");\n      document.getElementById('answer1button').style.backgroundColor = \"black\";\n      document.getElementById('answer2button').style.backgroundColor = \"white\";\n    } else if (e.target.id == \"answer2\") {\n      setPic(\"2\");\n      document.getElementById('answer2button').style.backgroundColor = \"black\";\n      document.getElementById('answer1button').style.backgroundColor = \"white\";\n    }\n\n    console.log('answer', e.target.id);\n  }\n\n  let handleSubmit = async e => {\n    e.preventDefault();\n    setSubmitted(true);\n    const elementsArray = [...e.target.elements];\n    console.log('elementsArray', elementsArray);\n\n    try {\n      const data = {\n        name: name,\n        pic: pic,\n        time: serverTimestamp.now()\n      };\n      const now = timestamp.getTime();\n      await setDoc(doc(db, \"Responses\", `${now}`), data);\n    } catch (e) {\n      console.error(\"Error adding document: \", e);\n    }\n  };\n\n  function showGame() {\n    console.log('show game');\n    clickMenu.current.style.display = \"block\";\n  }\n\n  function showReply() {\n    console.log('show repl');\n    form.current.style.display = \"block\";\n  } // To enable submit button\n\n\n  useEffect(() => {\n    if (name && pic !== null) {\n      setEnableBtnClass(classes.enableBtnClass);\n      setToggleBtnEnabler(false);\n      console.log('changes', `${enableBtnClass}`);\n    }\n  }, [name]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.component,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu\",\n      id: \"game\",\n      onClick: showGame,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: classes.name,\n              type: \"text\",\n              value: name,\n              id: \"name\",\n              placeholder: \"Name\",\n              onChange: e => setName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: `${classes.submitBtn} ${enableBtnClass}`,\n              id: \"submit\",\n              name: \"submit\",\n              type: \"submit\",\n              value: \"Submit\",\n              onSubmit: handleSubmit,\n              disabled: toggleBtnEnabler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message\",\n              children: message ? /*#__PURE__*/_jsxDEV(\"p\", {\n                children: message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 51\n              }, this) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: pics[0],\n                width: \"100px\",\n                height: \"100px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 20\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.p,\n              children: \"Choice of Answers:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"answer1button\",\n              onClick: () => hadSubmitted(true),\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                id: \"answer1\",\n                src: \"https://imgur.com/b0ZYobY.png\",\n                width: \"100px\",\n                height: \"100px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 74\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"answer2button\",\n              onClick: answerPic,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                id: \"answer2\",\n                src: \"https://imgur.com/ONukpTh.png\",\n                width: \"100px\",\n                height: \"100px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 59\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Choosing Answer \", pic]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 20\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 35\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Form, \"fiXLx7MpLf8LK66p8B7j0lBi4Kg=\", false, function () {\n  return [useStyles];\n});\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["/Users/ek/gametheory/src/components/form.js"],"names":["React","Component","useContext","useState","useEffect","useRef","Draggable","collection","addDoc","setDoc","getDocs","doc","onSnapshot","makeStyles","withTheme","db","pics","timestamp","serverTimestamp","allSubmissions","SubmitContext","useStyles","theme","container","color","name","borderRadius","padding","submitBtn","margin","background","opacity","transition","enableBtnClass","p","imgArray","i","push","Form","classes","clickMenu","form","hadSubmitted","submitted","setSubmitted","setEnableBtnClass","toggleBtnEnabler","setToggleBtnEnabler","setName","pic","setPic","message","setMessage","currentData","setCurrentData","regName","setRegName","regIg","setRegIg","regPic","setRegPic","subs","setSubs","ordered","setOrdered","allSubs","orderedPics","picsOptions","unsub","console","log","data","answerPic","e","target","id","document","getElementById","style","backgroundColor","handleSubmit","preventDefault","elementsArray","elements","time","now","getTime","error","showGame","current","display","showReply","component","value"],"mappings":"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","sourcesContent":["import React, { Component, useContext } from 'react';\nimport { useState, useEffect, useRef } from \"react\";\nimport Draggable from \"react-draggable\";\nimport { collection, addDoc, setDoc, getDocs, doc, onSnapshot } from \"firebase/firestore\";\nimport { makeStyles, withTheme } from '@material-ui/core';\nimport db from './utils/firebase.config';\nimport { pics } from './Pics';\nimport {timestamp, serverTimestamp} from './utils/serverTimestamp';\nimport { allSubmissions } from './utils/allSubmission';\nimport SubmitContext from './utils/submitContext';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    color: 'white',\n  },\n  name: {\n    borderRadius: '85px',\n    padding: '4%'\n  },\n  submitBtn: {\n    margin: '16px',\n    padding: '5%',\n    borderRadius: '20px',\n    background: 'black',\n    color: 'white',\n    opacity: 0.2,\n    transition: 'all 500ms ease'\n  },\n  enableBtnClass: {\n    opacity: 1,\n    transition: 'all 500ms ease'\n  },\n  p: {\n    color: 'white'\n  }\n}));\n\nconst imgArray = [];\nfor (let i = 0; i < 10; i++) {\n  imgArray.push('./assets/' + i + '.jpg');\n}\n\n\nfunction Form() {\n  const classes = useStyles();\n\n  const clickMenu = useRef(null);\n  const form = useRef(null);\n\n  const { hadSubmitted } = useContext(SubmitContext);\n\n  const [submitted, setSubmitted] = useState(false);\n  const [enableBtnClass, setEnableBtnClass] = useState(null);\n  const [toggleBtnEnabler, setToggleBtnEnabler] = useState(true);\n\n  const [name, setName] = useState(\"\");\n  const [pic, setPic] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  let [currentData, setCurrentData] = useState({ name: \"\", pic: \"\" });\n  let [regName, setRegName] = useState(\"\");\n  let [regIg, setRegIg] = useState(\"\");\n  let [regPic, setRegPic] = useState(0);\n  let [subs, setSubs] = useState([]);\n  let [ordered, setOrdered] = useState([]);\n  let allSubs = [];\n  let orderedPics = [];\n  const picsOptions = ['https://imgur.com/ONukpTh.png', 'https://imgur.com/rY8d0Ye.png', 'https://imgur.com/xXAYEcH.png', 'https://imgur.com/aWS9TAH.png']\n\n  useEffect(() => {\n    // CURRENT DATA\n    const unsub = onSnapshot(doc(db, \"Response\", \"rGKZUj2fF5JpWiYZmCDJ\"), (doc) => {\n      console.log(\"Current data: \", doc.data());\n      setCurrentData = doc.data();\n      console.log('name', currentData.name);\n    });\n  });\n\n  useEffect(() => {\n    console.log('submit change', submitted);\n\n  }, [submitted]);\n\n\n  function answerPic(e) {\n\n    if (e.target.id == \"answer1\") {\n      setPic(\"1\");\n      document.getElementById('answer1button').style.backgroundColor = \"black\";\n      document.getElementById('answer2button').style.backgroundColor = \"white\";\n\n    }\n    else if (e.target.id == \"answer2\") {\n      setPic(\"2\");\n      document.getElementById('answer2button').style.backgroundColor = \"black\";\n      document.getElementById('answer1button').style.backgroundColor = \"white\";\n\n    }\n    console.log('answer', e.target.id)\n  }\n\n  let handleSubmit = async (e) => {\n    e.preventDefault();\n    setSubmitted(true);\n    const elementsArray = [...e.target.elements];\n    console.log('elementsArray', elementsArray);\n\n    try {\n      const data = {\n        name: name,\n        pic: pic,\n        time: serverTimestamp.now(),\n      }\n      \n      const now = timestamp.getTime();\n\n      await setDoc(doc(db, \"Responses\", `${now}`), data);\n\n    } catch (e) {\n      console.error(\"Error adding document: \", e);\n    }\n  };\n\n  function showGame() {\n    console.log('show game')\n    clickMenu.current.style.display = \"block\";\n  }\n  function showReply() {\n    console.log('show repl')\n    form.current.style.display = \"block\";\n  }\n\n\n  // To enable submit button\n  useEffect(() => {\n    if (name && pic !== null) {\n      setEnableBtnClass(classes.enableBtnClass);\n      setToggleBtnEnabler(false);\n      console.log('changes', `${enableBtnClass}`)\n    }\n  }, [name]);\n\n  return (\n      <div className={classes.component}>\n        <div className=\"menu\" id=\"game\" onClick={showGame}>\n          <div className=\"flex\">\n            <div className=\"form\"><form onSubmit={handleSubmit}>\n              <input className={classes.name}\n                type=\"text\"\n                value={name} id='name'\n                placeholder=\"Name\"\n                onChange={(e) => setName(e.target.value)}\n              />\n\n              <input className={`${classes.submitBtn} ${enableBtnClass}`} id=\"submit\" name=\"submit\" type=\"submit\" value=\"Submit\" onSubmit={handleSubmit} disabled={toggleBtnEnabler} />\n\n              <div className=\"message\">{message ? <p>{message}</p> : null}</div>\n              <div><img src={pics[0]} width='100px' height='100px' /></div>\n              <div className={classes.p}>Choice of Answers:</div>\n              <div id=\"answer1button\" onClick={() => hadSubmitted(true)}><img id=\"answer1\" src=\"https://imgur.com/b0ZYobY.png\" width='100px' height='100px' /></div>\n              <div id=\"answer2button\" onClick={answerPic}><img id=\"answer2\" src=\"https://imgur.com/ONukpTh.png\" width='100px' height='100px' /></div>\n              <div><p>Choosing Answer {pic}</p></div>\n            </form>\n            </div>\n          </div>\n        </div>\n      </div>\n  );\n}\n\nexport default Form;"]},"metadata":{},"sourceType":"module"}