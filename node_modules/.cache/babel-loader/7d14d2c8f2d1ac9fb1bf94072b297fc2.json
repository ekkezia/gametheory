{"ast":null,"code":"var _jsxFileName = \"/Users/ek/gametheory/src/components/form.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component } from 'react';\nimport { useState, useEffect, useRef } from \"react\";\nimport Draggable from \"react-draggable\";\nimport { collection, addDoc, setDoc, getDocs, doc, onSnapshot } from \"firebase/firestore\";\nimport { makeStyles, withTheme } from '@material-ui/core';\nimport db from './utils/firebase.config';\nimport SubmitContext from './utils/submitContext';\nimport { pics } from './Pics';\nimport { timestamp, serverTimestamp } from './utils/serverTimestamp';\nimport { allSubmissions } from './utils/allSubmission';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  container: {\n    color: 'white'\n  },\n  submitBtn: {\n    margin: '16px',\n    padding: '5%',\n    borderRadius: '20px',\n    background: 'black',\n    color: 'white',\n    display: 'block',\n    transition: 'all 500ms ease'\n  },\n  enableBtnClass: {\n    // display: 'none',\n    color: 'red',\n    transition: 'all 500ms ease'\n  }\n}));\nconst imgArray = [];\n\nfor (let i = 0; i < 10; i++) {\n  imgArray.push('./assets/' + i + '.jpg');\n}\n\nfunction Form() {\n  _s();\n\n  const classes = useStyles();\n  const clickMenu = useRef(null);\n  const form = useRef(null);\n  const [submitted, setSubmitted] = useState(false);\n  const [enableBtnClass, setEnableBtnClass] = useState('');\n  const [toggleBtnEnabler, setToggleBtnEnabler] = useState(true);\n  const [name, setName] = useState(\"\");\n  const [pic, setPic] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  let [currentData, setCurrentData] = useState({\n    name: \"\",\n    pic: \"\"\n  });\n  let [regName, setRegName] = useState(\"\");\n  let [regIg, setRegIg] = useState(\"\");\n  let [regPic, setRegPic] = useState(0);\n  let [subs, setSubs] = useState([]);\n  let [ordered, setOrdered] = useState([]);\n  let allSubs = [];\n  let orderedPics = [];\n  const picsOptions = ['https://imgur.com/ONukpTh.png', 'https://imgur.com/rY8d0Ye.png', 'https://imgur.com/xXAYEcH.png', 'https://imgur.com/aWS9TAH.png'];\n  useEffect(() => {\n    // CURRENT DATA\n    const unsub = onSnapshot(doc(db, \"Response\", \"rGKZUj2fF5JpWiYZmCDJ\"), doc => {\n      console.log(\"Current data: \", doc.data());\n      setCurrentData = doc.data();\n      console.log('name', currentData.name);\n    });\n  });\n  useEffect(() => {\n    console.log('submit change', submitted);\n  }, [submitted]);\n\n  function answerPic(e) {\n    if (e.target.id == \"answer1\") {\n      setPic(\"1\");\n      document.getElementById('answer1button').style.backgroundColor = \"black\";\n      document.getElementById('answer2button').style.backgroundColor = \"white\";\n    } else if (e.target.id == \"answer2\") {\n      setPic(\"2\");\n      document.getElementById('answer2button').style.backgroundColor = \"black\";\n      document.getElementById('answer1button').style.backgroundColor = \"white\";\n    }\n\n    console.log('answer', e.target.id);\n  }\n\n  let handleSubmit = async e => {\n    e.preventDefault();\n    setSubmitted(true);\n    const elementsArray = [...e.target.elements];\n    console.log('elementsArray', elementsArray);\n\n    try {\n      const data = {\n        name: name,\n        pic: pic,\n        time: serverTimestamp.now()\n      };\n      const now = timestamp.getTime();\n      await setDoc(doc(db, \"Responses\", `${now}`), data);\n    } catch (e) {\n      console.error(\"Error adding document: \", e);\n    }\n  };\n\n  function showGame() {\n    console.log('show game');\n    clickMenu.current.style.display = \"block\";\n  }\n\n  function showReply() {\n    console.log('show repl');\n    form.current.style.display = \"block\";\n  } // To enable submit button\n\n\n  useEffect(() => {\n    if (name && pic !== null) {\n      setEnableBtnClass(classes.enableSubmitBtn);\n      setToggleBtnEnabler(false);\n      console.log('changes');\n    }\n  }, [name]);\n  return /*#__PURE__*/_jsxDEV(SubmitContext.Provider, {\n    value: submitted,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.component,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu\",\n        id: \"game\",\n        onClick: showGame,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: name,\n                id: \"name\",\n                placeholder: \"Name\",\n                onChange: e => setName(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: `${classes.submitBtn} ${enableBtnClass}`,\n                id: \"submit\",\n                name: \"submit\",\n                type: \"submit\",\n                value: \"Submit\",\n                onSubmit: handleSubmit,\n                disabled: toggleBtnEnabler\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message\",\n                children: message ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 51\n                }, this) : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: pics[0],\n                  width: \"100px\",\n                  height: \"100px\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 20\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Choice of Answers:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"answer1button\",\n                onClick: answerPic,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  id: \"answer1\",\n                  src: \"https://imgur.com/b0ZYobY.png\",\n                  width: \"100px\",\n                  height: \"100px\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 59\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"answer2button\",\n                onClick: answerPic,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  id: \"answer2\",\n                  src: \"https://imgur.com/ONukpTh.png\",\n                  width: \"100px\",\n                  height: \"100px\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 59\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Choosing Answer \", pic]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 20\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 35\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Form, \"+vxONR/idEZRl+bYYyzeicS/yT4=\", false, function () {\n  return [useStyles];\n});\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["/Users/ek/gametheory/src/components/form.js"],"names":["React","Component","useState","useEffect","useRef","Draggable","collection","addDoc","setDoc","getDocs","doc","onSnapshot","makeStyles","withTheme","db","SubmitContext","pics","timestamp","serverTimestamp","allSubmissions","useStyles","theme","container","color","submitBtn","margin","padding","borderRadius","background","display","transition","enableBtnClass","imgArray","i","push","Form","classes","clickMenu","form","submitted","setSubmitted","setEnableBtnClass","toggleBtnEnabler","setToggleBtnEnabler","name","setName","pic","setPic","message","setMessage","currentData","setCurrentData","regName","setRegName","regIg","setRegIg","regPic","setRegPic","subs","setSubs","ordered","setOrdered","allSubs","orderedPics","picsOptions","unsub","console","log","data","answerPic","e","target","id","document","getElementById","style","backgroundColor","handleSubmit","preventDefault","elementsArray","elements","time","now","getTime","error","showGame","current","showReply","enableSubmitBtn","component","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { useState, useEffect, useRef } from \"react\";\nimport Draggable from \"react-draggable\";\nimport { collection, addDoc, setDoc, getDocs, doc, onSnapshot } from \"firebase/firestore\";\nimport { makeStyles, withTheme } from '@material-ui/core';\nimport db from './utils/firebase.config';\nimport SubmitContext from './utils/submitContext';\nimport { pics } from './Pics';\nimport {timestamp, serverTimestamp} from './utils/serverTimestamp';\nimport { allSubmissions } from './utils/allSubmission';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    color: 'white',\n  },\n  submitBtn: {\n    margin: '16px',\n    padding: '5%',\n    borderRadius: '20px',\n    background: 'black',\n    color: 'white',\n    display: 'block',\n    transition: 'all 500ms ease'\n  },\n  enableBtnClass: {\n    // display: 'none',\n    color: 'red',\n    transition: 'all 500ms ease'\n  }\n}));\n\nconst imgArray = [];\nfor (let i = 0; i < 10; i++) {\n  imgArray.push('./assets/' + i + '.jpg');\n}\n\n\nfunction Form() {\n  const classes = useStyles();\n\n  const clickMenu = useRef(null);\n  const form = useRef(null);\n\n  const [submitted, setSubmitted] = useState(false);\n  const [enableBtnClass, setEnableBtnClass] = useState('');\n  const [toggleBtnEnabler, setToggleBtnEnabler] = useState(true);\n\n  const [name, setName] = useState(\"\");\n  const [pic, setPic] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  let [currentData, setCurrentData] = useState({ name: \"\", pic: \"\" });\n  let [regName, setRegName] = useState(\"\");\n  let [regIg, setRegIg] = useState(\"\");\n  let [regPic, setRegPic] = useState(0);\n  let [subs, setSubs] = useState([]);\n  let [ordered, setOrdered] = useState([]);\n  let allSubs = [];\n  let orderedPics = [];\n  const picsOptions = ['https://imgur.com/ONukpTh.png', 'https://imgur.com/rY8d0Ye.png', 'https://imgur.com/xXAYEcH.png', 'https://imgur.com/aWS9TAH.png']\n\n  useEffect(() => {\n    // CURRENT DATA\n    const unsub = onSnapshot(doc(db, \"Response\", \"rGKZUj2fF5JpWiYZmCDJ\"), (doc) => {\n      console.log(\"Current data: \", doc.data());\n      setCurrentData = doc.data();\n      console.log('name', currentData.name);\n    });\n  });\n\n  useEffect(() => {\n    console.log('submit change', submitted);\n\n  }, [submitted]);\n\n\n  function answerPic(e) {\n    if (e.target.id == \"answer1\") {\n      setPic(\"1\");\n      document.getElementById('answer1button').style.backgroundColor = \"black\";\n      document.getElementById('answer2button').style.backgroundColor = \"white\";\n\n    }\n    else if (e.target.id == \"answer2\") {\n      setPic(\"2\");\n      document.getElementById('answer2button').style.backgroundColor = \"black\";\n      document.getElementById('answer1button').style.backgroundColor = \"white\";\n\n    }\n    console.log('answer', e.target.id)\n  }\n\n  let handleSubmit = async (e) => {\n    e.preventDefault();\n    setSubmitted(true);\n    const elementsArray = [...e.target.elements];\n    console.log('elementsArray', elementsArray);\n\n    try {\n      const data = {\n        name: name,\n        pic: pic,\n        time: serverTimestamp.now(),\n      }\n      \n      const now = timestamp.getTime();\n\n      await setDoc(doc(db, \"Responses\", `${now}`), data);\n\n    } catch (e) {\n      console.error(\"Error adding document: \", e);\n    }\n  };\n\n  function showGame() {\n    console.log('show game')\n    clickMenu.current.style.display = \"block\";\n  }\n  function showReply() {\n    console.log('show repl')\n    form.current.style.display = \"block\";\n  }\n\n\n  // To enable submit button\n  useEffect(() => {\n    if (name && pic !== null) {\n      setEnableBtnClass(classes.enableSubmitBtn);\n      setToggleBtnEnabler(false);\n      console.log('changes')\n    }\n  }, [name]);\n\n  return (\n    <SubmitContext.Provider value={submitted}>\n      <div className={classes.component}>\n        <div className=\"menu\" id=\"game\" onClick={showGame}>\n          <div className=\"flex\">\n            <div className=\"form\"><form onSubmit={handleSubmit}>\n              <input\n                type=\"text\"\n                value={name} id='name'\n                placeholder=\"Name\"\n                onChange={(e) => setName(e.target.value)}\n              />\n\n              <input className={`${classes.submitBtn} ${enableBtnClass}`} id=\"submit\" name=\"submit\" type=\"submit\" value=\"Submit\" onSubmit={handleSubmit} disabled={toggleBtnEnabler} />\n\n              <div className=\"message\">{message ? <p>{message}</p> : null}</div>\n              <div><img src={pics[0]} width='100px' height='100px' /></div>\n              <div>Choice of Answers:</div>\n              <div id=\"answer1button\" onClick={answerPic}><img id=\"answer1\" src=\"https://imgur.com/b0ZYobY.png\" width='100px' height='100px' /></div>\n              <div id=\"answer2button\" onClick={answerPic}><img id=\"answer2\" src=\"https://imgur.com/ONukpTh.png\" width='100px' height='100px' /></div>\n              <div><p>Choosing Answer {pic}</p></div>\n            </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </SubmitContext.Provider>\n  );\n}\n\nexport default Form;"]},"metadata":{},"sourceType":"module"}